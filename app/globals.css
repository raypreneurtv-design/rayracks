@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import pixel font from Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

:root {
  --pixel-black: #0f0f23;
  --pixel-dark: #1a1a2e;
  --pixel-navy: #16213e;
  --pixel-purple: #533483;
  --pixel-magenta: #e94560;
  --pixel-money: #00d26a;
  --pixel-green: #39ff14;
  --pixel-gold: #ffd700;
  --pixel-yellow: #ffd93d;
  --pixel-cream: #f8f0e3;
  --pixel-wood: #deb887;
  --pixel-brown: #8b4513;
  --pixel-cash: #85bb65;

  --font-pixel: 'Press Start 2P', monospace;
  --font-mono: 'VT323', monospace;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
  /* Pixelated rendering for images */
  image-rendering: pixelated;
}

html {
  scroll-behavior: auto;
  /* Better base font size for readability */
  font-size: 16px;
}

@media (min-width: 1024px) {
  html {
    font-size: 18px;
  }
}

body {
  background-color: var(--pixel-dark);
  color: var(--pixel-cream);
  font-family: var(--font-mono);
  min-height: 100vh;
  overflow-x: hidden;
  /* Pixelated dollar sign cursor - money feel */
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Crect x='10' y='2' width='4' height='2' fill='%2300d26a'/%3E%3Crect x='6' y='4' width='12' height='2' fill='%2300d26a'/%3E%3Crect x='4' y='6' width='4' height='2' fill='%2300d26a'/%3E%3Crect x='10' y='6' width='4' height='2' fill='%23ffd700'/%3E%3Crect x='4' y='8' width='6' height='2' fill='%2300d26a'/%3E%3Crect x='10' y='8' width='4' height='2' fill='%23ffd700'/%3E%3Crect x='6' y='10' width='8' height='2' fill='%2300d26a'/%3E%3Crect x='10' y='10' width='4' height='2' fill='%23ffd700'/%3E%3Crect x='10' y='12' width='8' height='2' fill='%2300d26a'/%3E%3Crect x='10' y='12' width='4' height='2' fill='%23ffd700'/%3E%3Crect x='16' y='14' width='4' height='2' fill='%2300d26a'/%3E%3Crect x='10' y='14' width='4' height='2' fill='%23ffd700'/%3E%3Crect x='6' y='16' width='12' height='2' fill='%2300d26a'/%3E%3Crect x='10' y='18' width='4' height='2' fill='%2300d26a'/%3E%3C/svg%3E") 0 0, auto;
  /* Better line height for readability */
  line-height: 1.6;
}

/* CRT Scanline effect overlay */
.crt-overlay::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.08) 0px,
    rgba(0, 0, 0, 0.08) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
  z-index: 9999;
}

/* Pixel border utility */
.pixel-border {
  border: 4px solid var(--pixel-black);
  box-shadow:
    4px 4px 0 0 var(--pixel-black),
    inset -4px -4px 0 0 rgba(255,255,255,0.1),
    inset 4px 4px 0 0 rgba(0,0,0,0.2);
}

.pixel-border-money {
  border: 4px solid var(--pixel-money);
  box-shadow: 4px 4px 0 0 var(--pixel-black);
}

.pixel-border-magenta {
  border: 4px solid var(--pixel-magenta);
  box-shadow: 4px 4px 0 0 var(--pixel-black);
}

/* 8-bit button styles - improved sizing */
.pixel-btn {
  font-family: var(--font-pixel);
  font-size: 0.65rem;
  padding: 14px 28px;
  background: var(--pixel-purple);
  color: var(--pixel-cream);
  border: 4px solid var(--pixel-black);
  box-shadow: 4px 4px 0 0 var(--pixel-black);
  cursor: pointer;
  transition: transform 0.1s steps(2), box-shadow 0.1s steps(2);
  text-transform: uppercase;
  letter-spacing: 2px;
}

@media (min-width: 768px) {
  .pixel-btn {
    font-size: 0.75rem;
    padding: 16px 32px;
  }
}

.pixel-btn:hover {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0 0 var(--pixel-black);
}

.pixel-btn:active {
  transform: translate(4px, 4px);
  box-shadow: none;
}

.pixel-btn-money {
  background: var(--pixel-money);
  color: var(--pixel-black);
  font-weight: bold;
}

.pixel-btn-gold {
  background: var(--pixel-gold);
  color: var(--pixel-black);
}

.pixel-btn-magenta {
  background: var(--pixel-magenta);
}

.pixel-btn-cyan {
  background: #00bcd4;
  color: var(--pixel-black);
}

/* Line clamp utility */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Library bookshelf background */
.library-bg {
  background:
    repeating-linear-gradient(
      90deg,
      var(--pixel-brown) 0px,
      var(--pixel-brown) 80px,
      #6b3a0f 80px,
      #6b3a0f 82px
    ),
    linear-gradient(180deg, var(--pixel-dark) 0%, var(--pixel-navy) 100%);
  background-size: 82px 100%, 100% 100%;
}

/* Book spine styles */
.book-spine {
  writing-mode: vertical-rl;
  text-orientation: mixed;
  padding: 1rem 0.5rem;
  font-family: var(--font-pixel);
  font-size: 0.5rem;
  border: 3px solid var(--pixel-black);
  box-shadow: 2px 2px 0 0 var(--pixel-black);
  transition: transform 0.2s steps(4);
}

.book-spine:hover {
  transform: translateX(-8px) rotate(-2deg);
}

/* Pixel text effects - money green glow */
.pixel-text {
  font-family: var(--font-pixel);
  text-shadow:
    2px 2px 0 var(--pixel-black),
    -1px -1px 0 var(--pixel-black),
    1px -1px 0 var(--pixel-black),
    -1px 1px 0 var(--pixel-black);
}

.pixel-text-glow {
  text-shadow:
    0 0 10px var(--pixel-money),
    0 0 20px var(--pixel-money),
    0 0 30px var(--pixel-money),
    2px 2px 0 var(--pixel-black);
}

.money-glow {
  text-shadow:
    0 0 10px var(--pixel-money),
    0 0 20px var(--pixel-cash),
    2px 2px 0 var(--pixel-black);
}

/* Retro container - wider for desktop */
.retro-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 clamp(1rem, 4vw, 3rem);
}

/* Health bar style progress */
.health-bar {
  height: 20px;
  background: var(--pixel-black);
  border: 3px solid var(--pixel-cream);
  position: relative;
}

.health-bar-fill {
  height: 100%;
  background: linear-gradient(
    90deg,
    var(--pixel-money) 0%,
    var(--pixel-gold) 50%,
    var(--pixel-green) 100%
  );
  transition: width 0.3s steps(10);
}

/* Dialog box styles - better padding for readability */
.dialog-box {
  background: var(--pixel-navy);
  border: 4px solid var(--pixel-cream);
  padding: 1.5rem;
  position: relative;
}

@media (min-width: 768px) {
  .dialog-box {
    padding: 2rem;
  }
}

.dialog-box::before {
  content: '';
  position: absolute;
  bottom: -16px;
  left: 24px;
  width: 0;
  height: 0;
  border-left: 12px solid transparent;
  border-right: 12px solid transparent;
  border-top: 16px solid var(--pixel-cream);
}

.dialog-box::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 28px;
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 12px solid var(--pixel-navy);
}

/* Inventory slot style - money themed */
.inventory-slot {
  width: 64px;
  height: 64px;
  background: var(--pixel-dark);
  border: 3px solid var(--pixel-purple);
  box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.1s steps(2);
}

.inventory-slot:hover {
  border-color: var(--pixel-money);
  box-shadow: 0 0 15px var(--pixel-money), inset 0 0 10px rgba(0,0,0,0.5);
}

/* Pixel divider - money green themed */
.pixel-divider {
  height: 4px;
  background: repeating-linear-gradient(
    90deg,
    var(--pixel-money) 0px,
    var(--pixel-money) 8px,
    transparent 8px,
    transparent 16px,
    var(--pixel-gold) 16px,
    var(--pixel-gold) 24px,
    transparent 24px,
    transparent 32px
  );
}

/* Flickering neon effect */
.neon-flicker {
  animation: flicker 3s infinite;
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  41% { opacity: 1; }
  42% { opacity: 0.8; }
  43% { opacity: 1; }
  45% { opacity: 0.3; }
  46% { opacity: 1; }
}

/* Custom scrollbar - money themed */
::-webkit-scrollbar {
  width: 16px;
  background: var(--pixel-dark);
}

::-webkit-scrollbar-track {
  background:
    repeating-linear-gradient(
      0deg,
      var(--pixel-navy) 0px,
      var(--pixel-navy) 8px,
      var(--pixel-dark) 8px,
      var(--pixel-dark) 16px
    );
  border: 2px solid var(--pixel-black);
}

::-webkit-scrollbar-thumb {
  background: var(--pixel-money);
  border: 2px solid var(--pixel-black);
  box-shadow: inset 2px 2px 0 rgba(255,255,255,0.2);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--pixel-gold);
}

/* Selection colors - money green */
::selection {
  background: var(--pixel-money);
  color: var(--pixel-black);
}

/* Loading dots animation */
.loading-dots::after {
  content: '';
  animation: dots 1.5s steps(4) infinite;
}

@keyframes dots {
  0% { content: ''; }
  25% { content: '.'; }
  50% { content: '..'; }
  75% { content: '...'; }
}

/* Layer utilities */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .font-pixel {
    font-family: var(--font-pixel);
  }

  .font-retro {
    font-family: var(--font-mono);
  }
}

/* Improved text readability */
@layer base {
  /* Larger pixel font sizes for desktop */
  @media (min-width: 1024px) {
    .font-pixel {
      letter-spacing: 1px;
    }
  }
}
